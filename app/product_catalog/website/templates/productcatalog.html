<!DOCTYPE html>
<html>

<head>
  <title>Product Catalog</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename ='productcatalog/styles.css') }}">

  <!-- Add Bootstrap CSS link -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
</head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<body>
      {% include "navbar.html" %} <br><br><br>
  <!-- Main Content -->
  <div class="container">
      <div class="row">
          <!-- First Div - Upload Div (Col 4) -->
          <div class="col-md-4 horizontal-container" id="div1" style="width: 350px;margin-right: 15px;">
            
              
                <div class="hero">

                  
                 
                      
                    <img src="../static/productcatalog/upload.png" id="profile-pic" alt="Upload an Image" >
                      <input type="file" accept="image/jpeg, image/png, image/jpg" id="input-file">
                      
                    
                  
                </div>
                <label for="input-file">Select Image</label>
                  
              
              
          </div>
          <!-- Second Div - Buttons Div (Col 4) -->
          <div class="col-md-4 horizontal-container" id="div2" style="width: 410px;  margin-right: 15px;">
            <div class="container-fluid">
                <div class="row">
                    
                    <div class="label-container" id="labelContainer">
                        <div class="label-loader" id="labelLoader"></div>
                        {% for label in labels %}
                        <span class="label-tag">{{ label }}</span>
                        {% endfor %}
                        <div id="message">
                          <div class="label-loader" id="labelLoader"></div>
                            {% if message %}
                            <p>{{ message }}</p>
                            {% endif %}
                        </div>
                    </div>
                    <button class="upload-button" type="button" id="analyze-button">Extract Product Attribute</button>
                    <div id="promoResponse" style="background: rgb(226, 230, 255); margin-top: 50px; margin-bottom: 10px;"></div><br><br>
                </div>
            </div>
            
            <!-- Display these two buttons side by side -->
            <div class="button-container">
                <button class="tag" id="promotionalTextButton">Create Promotional Text</button>
                <button class="tag" id="promotionalTagButton">Create Tagline</button>
            </div>
        </div>
        
          <!-- Third Div - Promotional Text and Recommended Products Div (Col 4) -->
          <div class="col-md-4 horizontal-container" id="div3" style="width: 350px;">
            <div class="container-fluid" id="thirdDiv">
                
                    <!-- HTML container where products will be displayed -->
                    <div id="productContainer" class="product-container">
                        <!-- Products will be displayed here -->
                    </div>
                
            </div>
            <button class="customer-complaint" id="recommendedProductsButton">Recommended Products</button>
        </div>
    
      </div>
  </div>

  
  <!-- JavaScript Scripts -->
  <script>
      // Function to show/hide the sidebar
      function w3_open() {
          document.getElementById("mySidebar").style.display = "block";
      }
  
      function w3_close() {
          document.getElementById("mySidebar").style.display = "none";
      }
  
      // Function to toggle submenu
      function toggleSubmenu(submenuId) {
          var submenu = document.getElementById(submenuId);
          if (submenu.style.display === "block") {
              submenu.style.display = "none";
          } else {
              submenu.style.display = "block";
          }
      }
  
      // Function to display the uploaded image
      function displayImage(input) {
          const uploadedImage = document.getElementById('uploaded-image');
          if (input.files && input.files[0]) {
              const reader = new FileReader();
  
              reader.onload = function (e) {
                  uploadedImage.src = e.target.result;
              };
  
              reader.readAsDataURL(input.files[0]);
          }
      }
  
      // Listen for changes in the file input
      const fileInput = document.getElementById('inputGroupFile04');
      fileInput.addEventListener('change', function () {
          displayImage(this);
      });
  
      // Function to toggle the promotional text textarea
      function togglePromotionalText() {
          const promotionalTextDiv = document.getElementById("promotionalTextDiv");
          const promotionalTextArea = document.getElementById("promotionalTextArea");
  
          if (promotionalTextDiv.style.display === "none" || promotionalTextDiv.style.display === "") {
              promotionalTextDiv.style.display = "block";
              promotionalTextArea.style.display = "block";
          } else {
              promotionalTextDiv.style.display = "none";
              promotionalTextArea.style.display = "none";
          }
      }
  
      // Function to toggle the recommended products content
      function toggleRecommendedProducts() {
          const recommendedProductsDiv = document.getElementById("recommendedProductsDiv");
  
          if (recommendedProductsDiv.style.display === "none" || recommendedProductsDiv.style.display === "") {
              recommendedProductsDiv.style.display = "block";
          } else {
              recommendedProductsDiv.style.display = "none";
          }
      }
  
      // Add click event listeners to the buttons
      document.getElementById("promotionalTextButton").addEventListener("click", togglePromotionalText);
      document.getElementById("recommendedProductsButton").addEventListener("click", toggleRecommendedProducts);
  
      // Add an event listener to the "Marketing Submenu" link
      const marketingSubmenuLink = document.querySelector('.submenu > .w3-dropdown-click > a');
      marketingSubmenuLink.addEventListener('click', function (event) {
          event.preventDefault(); // Prevent the default link behavior
          toggleSubmenu('marketingSubmenu'); // Toggle the submenu display
      });
      
  </script>
  <!-- Bootstrap JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
          crossorigin="anonymous"></script>
  <!-- Your custom JavaScript -->
  <script src="../static/productcatalog/script.js"></script>
  </body>
  </html>
  
